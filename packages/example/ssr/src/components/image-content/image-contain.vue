<template>
  <div
    class="image-contain"
    :style="realStyle"
    @click.stop="preview"
  />
</template>
<script lang="ts">
import { defineComponent, PropType } from 'vue';
import imagePreview from './image-preview';

export default defineComponent({
	props: {
		style: {
			type: Object as PropType<CSSRule>,
			default: () => {
				return {};
			},
		},
		src: {
			type: String,
			required: true,
		},
	},
	computed: {
		realStyle(): any {
			return { ...this.style, backgroundImage: `url(${this.src})` };
		},
	},
	methods: {
		preview(e: any) {
			console.log('预览', e, e.target.offsetWidth);
			imagePreview(this.src);
		},
	},
});
</script>
<style lang="less" scoped>
.image-contain {
	// height: 100%;
	// width: 100%;
	border-radius: 4px;
	height: 106px;
	width: 31%;
	overflow: hidden;
	background-repeat: no-repeat;
	background-size: cover;
	background-position: 50% 50%;
	margin-right: 2%;
	margin-top: 8px;

	&:nth-child(3n) {
		margin-right: 0;
	}
}
</style>
